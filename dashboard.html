<body style="font-family: Arial, sans-serif; background: #0d0d0d; color: #f5f5f5; text-align: center; padding: 50px;">
  <h1 style="color: #ffd700;">✨ ApexForge 1.0 ✨</h1>
  <p style="max-width: 500px; margin: 0 auto; font-size: 1.1rem; line-height: 1.6;">
    The AI architect that turns your ideas into fully functional, scalable apps — instantly.
  </p>

  <div id="dashboard" style="margin-top: 40px;">
    <button id="createProject" style="padding: 10px 20px; font-size: 1rem; border: none; background: #ffd700; color: #000; border-radius: 8px; cursor: pointer;">
      🚀 Create New Project
    </button>

    <h2 style="margin-top: 40px; color: #ccc;">🗂️ Your Projects</h2>
    <ul id="projectList" style="list-style: none; padding: 0;"></ul>
  </div>

  <footer style="margin-top: 50px; font-size: 0.9rem; color: #888;">
    Your trillion-dollar app is live.
  </footer>

  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

    const supabaseUrl = import.meta.env.NEXT_PUBLIC_SUPABASE_URL;
    const supabaseAnonKey = import.meta.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;
    const supabase = createClient(supabaseUrl, supabaseAnonKey);

    console.log('✅ Supabase connected:', supabase);

    const button = document.querySelector('#createProject');
    const projectList = document.querySelector('#projectList');

    if (button) {
      button.addEventListener('click', async () => {
        const projectName = prompt('Enter project name:');
        if (!projectName) return;

        const { data, error } = await supabase
          .from('projects')
          .insert([{ name: projectName, created_at: new Date() }]);

        if (error) {
          alert('❌ Error: ' + error.message);
        } else {
          alert('✅ Project saved!');
          addProjectToList(projectName);
        }
      });
    }

    function addProjectToList(name) {
      const li = document.createElement('li');
      li.textContent = `📁 ${name}`;
      li.style.margin = '10px 0';
      li.style.color = '#fff';
      projectList.appendChild(li);
    }

    async function loadProjects() {
      const { data, error } = await supabase
        .from('projects')
        .select('*')
        .order('created_at', { ascending: false });

      if (error) {
        console.error('Error loading projects:', error);
        return;
      }

      data.forEach(p => addProjectToList(p.name));
    }

    loadProjects();
    <script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'

  // Connect to Supabase (uses your environment variables from Vercel)
  const supabaseUrl = import.meta.env.NEXT_PUBLIC_SUPABASE_URL;
  const supabaseAnonKey = import.meta.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;
  const supabase = createClient(supabaseUrl, supabaseAnonKey);

  console.log('✅ Supabase connected:', supabase);

  // Get your button and list elements
  const button = document.getElementById('createProject');
  const list = document.getElementById('projectList');

  // Button creates a new project
  button.addEventListener('click', async () => {
    const { data, error } = await supabase
      .from('projects')
      .insert([{ name: 'New AI Project', created_at: new Date() }]);

    if (error) {
      console.error('❌ Error:', error);
      alert('Something went wrong!');
    } else {
      console.log('✅ Project created:', data);
      const li = document.createElement('li');
      li.textContent = 'New AI Project';
      list.appendChild(li);
      alert('Project created!');
    }
  });
</script>
  </script>
</body>
</html>
